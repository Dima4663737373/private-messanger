# Ghost Messenger - –ü–æ–≤–Ω–∏–π –∑–≤—ñ—Ç –ø—Ä–æ —Å—Ç–∞–Ω –ø—Ä–æ–µ–∫—Ç—É

**–î–∞—Ç–∞:** 2026-02-17
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–∏–π –¥–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –∑ –≤—ñ–¥–æ–º–∏–º–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏

---

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–Ü –§–Ü–ß–Ü (100%)

### 1. –ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å ‚ú®
- ‚úÖ End-to-end —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è (NaCl Curve25519 + Salsa20/Poly1305)
- ‚úÖ –ì—ñ–±—Ä–∏–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (Off-chain WebSocket + On-chain Aleo proof)
- ‚úÖ –ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (username, bio, avatar IPFS)
- ‚úÖ Direct Messages (DM)
- ‚úÖ –í–∫–ª–∞–¥–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ IPFS
- ‚úÖ –†–µ–∞–∫—Ü—ñ—ó –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–µ–º–æ–¥–∑—ñ)
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (Reply)
- ‚úÖ –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–∑ —ñ—Å—Ç–æ—Ä—ñ—î—é —Ä–µ–¥–∞–≥—É–≤–∞–Ω—å)
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–∑ –∞—É–¥–∏—Ç-–ª–æ–≥–æ–º)
- ‚úÖ –ó–∞–∫—Ä—ñ–ø–ª–µ–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (Pin)
- ‚úÖ –ü–æ—à—É–∫ –ø–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö
- ‚úÖ –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä—É —Ç–µ–∫—Å—Ç—É
- ‚úÖ Read receipts (–ø–æ–∑–Ω–∞—á–∫–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—è)
- ‚úÖ Online/offline —Å—Ç–∞—Ç—É—Å

### 2. –ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å —ñ –±–µ–∑–ø–µ–∫–∞ üîí
- ‚úÖ –ó–Ω–∏–∫–∞—é—á—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (30s, 5m, 1h, 24h, off)
- ‚úÖ –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (Block/Unblock)
- ‚úÖ –ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤—ñ–∑–∏—Ç—É
- ‚úÖ –ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é
- ‚úÖ –ë–ª–æ–∫—á–µ–π–Ω proof (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –ü–æ–∫–∞–∑ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å—É (–≤–∏–º–∏–∫–∞—î—Ç—å—Å—è)

### 3. UI/UX –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è üé®
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ç–µ–º –∑ CSS –∑–º—ñ–Ω–Ω–∏–º–∏ (Light, Dark, Midnight, Aleo)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–µ—Ç–µ–∫—Ü—ñ—è —Å–∏—Å—Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
- ‚úÖ –ê–Ω—ñ–º–æ–≤–∞–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä—É (bouncing dots)
- ‚úÖ Scroll-to-bottom FAB –∑ –ª—ñ—á–∏–ª—å–Ω–∏–∫–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–∏—Ö
- ‚úÖ Auto-resize textarea (1-4 —Ä—è–¥–∫–∏)
- ‚úÖ Glassmorphism –µ—Ñ–µ–∫—Ç –≤ —Ö–µ–¥–µ—Ä—ñ (blur 20px)
- ‚úÖ –ü—É–ª—å—Å—É—é—á–∞ –∑–µ–ª–µ–Ω–∞ –∫—Ä–∞–ø–∫–∞ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å—É
- ‚úÖ Encryption badge "E2E" –∑–∞–≤–∂–¥–∏ –≤–∏–¥–∏–º–∏–π
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (placeholder)
- ‚úÖ Drag-and-drop –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω—ñ –∫–∞—Ä—Ç–∫–∏ –ø—Ä–µ–≤—å—é –ø–æ—Å–∏–ª–∞–Ω—å
- ‚úÖ –ü–ª–∞–≤–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É (\*bold\*, \_italic\_, ~strike~, \_\_underline\_\_)
- ‚úÖ Emoji picker –∑ –ø–æ—à—É–∫–æ–º
- ‚úÖ –ü—ñ–¥–∫–∞–∑–∫–∞ –ø—Ä–æ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥ input

### 4. Backend —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å üîß
- ‚úÖ PostgreSQL/SQLite –∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è–º
- ‚úÖ WebSocket real-time –∑–≤'—è–∑–æ–∫
- ‚úÖ –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Aleo wallet
- ‚úÖ –°–µ—Å—ñ—ó –∑ TTL 24 –≥–æ–¥–∏–Ω–∏
- ‚úÖ Rate limiting (600 req/15min, WebSocket 30 msg/60s)
- ‚úÖ CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö input –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- ‚úÖ Error handling –∑ toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏
- ‚úÖ –ö–µ—à—É–≤–∞–Ω–Ω—è link preview (200 –∑–∞–ø–∏—Å—ñ–≤ LRU)

### 5. Smart Contract (Leo 3.4) ‚õìÔ∏è
- ‚úÖ –ü—Ä–æ–≥—Ä–∞–º–∞: `ghost_msg_017.aleo` (deployed)
- ‚úÖ Transitions: register_profile, update_profile, send_message, update_message, delete_message
- ‚úÖ Transitions: clear_history, delete_chat, add_contact, update/delete_contact
- ‚úÖ Mappings: profile_pubkey, dialog_last_block, contacts
- ‚úÖ Constructor –∑ @noupgrade (immutable)
- ‚úÖ Async functions (Leo 3.4 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–Ü –ü–†–û–ë–õ–ï–ú–ò (–ü–æ—Ç—Ä–µ–±—É—é—Ç—å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ production)

### 1. **WebSocket Signature Verification –í–Ü–î–°–£–¢–ù–Ñ** üö®
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ù–ò–ô
**–õ–æ–∫–∞—Ü—ñ—è:** `backend/src/server.ts` (DM_MESSAGE handler)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Backend –¥–æ–≤—ñ—Ä—è—î client-provided sender –∞–¥—Ä–µ—Å—É –±–µ–∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—ñ–¥–ø–∏—Å—É
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—ñ–¥—Ä–æ–±–∫–∏ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ –≤ off-chain –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö
- On-chain –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω—ñ (wallet signature required)

**–†–∏–∑–∏–∫:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–∏–¥–∞–≤–∞—Ç–∏ —Å–µ–±–µ –∑–∞ —ñ–Ω—à–æ–≥–æ –≤ WebSocket sync

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```typescript
// –î–æ–¥–∞—Ç–∏ signature verification:
const messageHash = hashMessage(data.payload);
const isValidSignature = verifyAleoSignature(
  messageHash,
  data.signature,
  ws.authenticatedAddress
);
if (!isValidSignature) {
  ws.send(JSON.stringify({ type: 'ERROR', message: 'Invalid signature' }));
  return;
}
```

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω:**
- `backend/src/server.ts` (lines 503-600)
- `frontend/src/hooks/useSync.ts` (–¥–æ–¥–∞—Ç–∏ –ø—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é)

---

### 2. **Channels/Groups Name Collision** üö®
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ù–ò–ô (–±–ª–æ–∫—É—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å)
**–õ–æ–∫–∞—Ü—ñ—è:** `src/main.leo` (lines 296-300)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```leo
let channel_key: field = BHP256::hash_to_field(name);
```
- –Ø–∫—â–æ –¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å –∫–∞–Ω–∞–ª–∏ –∑ –æ–¥–Ω–∞–∫–æ–≤–æ—é –Ω–∞–∑–≤–æ—é ‚Üí –¥—Ä—É–≥–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è fail
- –ü–æ–ø—É–ª—è—Ä–Ω—ñ –Ω–∞–∑–≤–∏ ("general", "random") –Ω–µ –º–æ–∂—É—Ç—å —Å–ø—ñ–≤—ñ—Å–Ω—É–≤–∞—Ç–∏

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å:** DISABLED ‚Äî Channels/Groups –≤–∫–ª–∞–¥–∫–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ –≤ UI

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–æ–±–µ—Ä—ñ—Ç—å –æ–¥–Ω–µ):**

**–í–∞—Ä—ñ–∞–Ω—Ç 1:** –î–æ–¥–∞—Ç–∏ salt –∑ creator hash
```leo
let channel_key: field = BHP256::hash_to_field(
  name.concat(creator_hash).concat(timestamp)
);
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ sequential IDs
```leo
mapping channel_counter: bool => u64;
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ counter —è–∫ –∫–ª—é—á –∑–∞–º—ñ—Å—Ç—å —Ö–µ—à—É
```

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω:**
- `src/main.leo` (create_channel, create_group —Ñ—É–Ω–∫—Ü—ñ—ó)
- –ú–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω re-deploy –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

---

## üü† –í–ò–°–û–ö–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢ (–í–∏–ø—Ä–∞–≤–∏—Ç–∏ –¥–ª—è v1.0)

### 1. **No Forward Secrecy (Static Keys)** üîê
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—ñ –∂ —Å–∞–º—ñ –∫–ª—é—á—ñ –¥–ª—è –≤—Å—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –Ø–∫—â–æ –∫–ª—é—á —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω–æ = –≤—Å—è —ñ—Å—Ç–æ—Ä—ñ—è —á–∞—Ç—É —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω–∞
- –ù–µ–º–∞—î —Ä–æ—Ç–∞—Ü—ñ—ó –∫–ª—é—á—ñ–≤
- –ù–µ–º–∞—î per-message ephemeral keys

**–í—ñ–¥—Å—É—Ç–Ω—î:**
- Signal Protocol Double Ratchet
- Per-session key rotation
- Ephemeral keys

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ Signal Protocol –∞–±–æ —Å—Ö–æ–∂–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º

**Reference:** `SECURITY_AUDIT.md`, Issue #2

---

### 2. **Metadata Leakage on Blockchain** üìä
**–ü—Ä–æ–±–ª–µ–º–∞:** `dialog_last_block` mapping –≤–∏–¥–∏–º–∏–π on-chain
- –ú–æ–∂–Ω–∞ –ø–æ–±–∞—á–∏—Ç–∏ –∫–æ–ª–∏/—è–∫ —á–∞—Å—Ç–æ –¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è
- Frequency analysis attack
- Correlation attack –º–æ–∂–ª–∏–≤–∏–π

**–í—ñ–¥—Å—É—Ç–Ω—î:**
- Dummy transactions –¥–ª—è —à—É–º—É
- Metadata privacy (mixnet/onion routing)

**Reference:** `SECURITY_AUDIT.md`, Issue #3

---

### 3. **Session Persistence –í—ñ–¥—Å—É—Ç–Ω—î** üíæ
**–õ–æ–∫–∞—Ü—ñ—è:** `backend/src/server.ts` (lines 78-88)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const sessions = new Map<string, Session>(); // In-memory only
```
- –í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫—É—é—Ç—å—Å—è –ø—Ä–∏ restart —Å–µ—Ä–≤–µ—Ä–∞
- –ù–µ–º–∞—î refresh tokens
- –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π gap –≤ 24-hour TTL

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
- –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–µ—Å—ñ—ó –≤ database
- –î–æ–¥–∞—Ç–∏ JWT –∞–±–æ persistent tokens
- Refresh token rotation

---

### 4. **No Persistent Message Cache** üì¶
**–õ–æ–∫–∞—Ü—ñ—è:** `frontend/src/hooks/useSync.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const decryptionCache = useRef<Map<string, string>>(new Map()); // In-memory
```
- –ö–µ—à –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –ø—Ä–∏ refresh —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- –ù–µ–º–∞—î offline mode
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ –º–µ—Ä–µ–∂–∞ –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ—ó

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
- IndexedDB –¥–ª—è persistent storage
- Offline message queue
- Sync status tracking

**Reference:** `INCOMPLETE_FEATURES.md`, Item #4

---

## üü° –°–ï–†–ï–î–ù–Ü–ô –ü–†–Ü–û–†–ò–¢–ï–¢ (v1.1)

### 1. **Rate Limiting Gaps** üö¶
**–õ–æ–∫–∞—Ü—ñ—è:** `backend/src/server.ts`

**–ü–æ—Ç–æ—á–Ω—ñ –ª—ñ–º—ñ—Ç–∏:**
- Global: 600 req/15min per IP
- Search: 15 req/min
- WebSocket: 30 msg/60s

**–í—ñ–¥—Å—É—Ç–Ω—î:**
- –ù–µ–º–∞—î –ª—ñ–º—ñ—Ç—É –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å WebSocket –∑'—î–¥–Ω–∞–Ω—å per IP
- –ù–µ–º–∞—î –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –≤–µ–ª–∏–∫–∏—Ö payload (memory DOS)
- –ù–µ–º–∞—î CPU cost limits

**Reference:** `SECURITY_AUDIT.md`, Issue #6

---

### 2. **CORS Development Risk** ‚ö†Ô∏è
**–õ–æ–∫–∞—Ü—ñ—è:** `backend/src/server.ts` (lines 54-67)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
if (!origin) {
  callback(null, !IS_PRODUCTION); // –î–æ–∑–≤–æ–ª—è—î no-origin –≤ dev
}
```

**–†–∏–∑–∏–∫:** –Ø–∫—â–æ —Ü–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –≤ production

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** –Ø–≤–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è origin –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â

---

### 3. **CSP Headers Not Fully Configured** üõ°Ô∏è
**–õ–æ–∫–∞—Ü—ñ—è:** `frontend/netlify.toml` (may need updates)

**–í—ñ–¥—Å—É—Ç–Ω—î:**
```toml
Content-Security-Policy = "default-src 'self'; script-src 'self'; ..."
```

**Impact:** XSS attacks –Ω–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –±–ª–æ–∫—É—é—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º

**Reference:** `SECURITY_AUDIT.md`, Issue #8

---

### 4. **Encryption Key Validation Insufficient** üîë
**–õ–æ–∫–∞—Ü—ñ—è:** `frontend/src/utils/crypto.ts` (lines 134-163)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–æ–≤–∂–∏–Ω–∞, –Ω–µ –≤–º—ñ—Å—Ç
```typescript
if (pk.length === nacl.box.publicKeyLength) {
  return parsed; // Valid length –∞–ª–µ NOT valid key
}
```

**–í—ñ–¥—Å—É—Ç–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—è:**
- Zero keys check
- Weak keys check
- Key derivation integrity

---

## üü¢ –ù–ò–ó–¨–ö–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢ (v2.0)

### 1. **No Key Backup/Recovery** üîê
- –Ø–∫—â–æ localStorage –æ—á–∏—â–µ–Ω–æ ‚Üí –∫–ª—é—á—ñ –≤—Ç—Ä–∞—á–µ–Ω—ñ –Ω–∞–∑–∞–≤–∂–¥–∏
- –ù–µ–º–æ–∂–ª–∏–≤–æ —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞—Ç–∏ —Å—Ç–∞—Ä—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–í—ñ–¥—Å—É—Ç–Ω—î:**
- Cloud encrypted backup
- Mnemonic phrase –¥–ª—è key derivation
- QR code export
- Key recovery from wallet

---

### 2. **No Smart Contract Audit** üìã
- Leo smart contract –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–≤ formal audit
- –ë–µ–∑–ø–µ—á–Ω–∏–π design –∞–ª–µ –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

---

### 3. **No Browser Push Notifications** üîî
- –ù–µ–º–∞—î Web Push API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- –ù–µ–º–∞—î Service Worker
- –ù–µ–º–∞—î user permission flow

---

### 4. **IPFS Pinning Not Guaranteed** üìå
- –§–∞–π–ª–∏ –º–æ–∂—É—Ç—å –∑–Ω–∏–∫–Ω—É—Ç–∏ —á–µ—Ä–µ–∑ 24-48 –≥–æ–¥–∏–Ω
- –ü–æ—Ç—Ä—ñ–±–µ–Ω dedicated pinning service

---

## ‚ùå –í–Ü–î–°–£–¢–ù–Ü –§–Ü–ß–Ü (–ó–∞ –¥–∏–∑–∞–π–Ω–æ–º, –Ω–µ bug)

### 1. **Group Chats DISABLED** üë•
**–°—Ç–∞—Ç—É—Å:** –í–Ü–î–ö–õ–Æ–ß–ï–ù–û –≤ frontend (–≤–∫–ª–∞–¥–∫–∏ channels/groups grayed out)
**–ü—Ä–∏—á–∏–Ω–∞:** Smart contract collision issue (–¥–∏–≤. –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ #2)
**–ö–æ–ª–∏ –±—É–¥–µ:** –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è collision bug –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ

---

### 2. **Media Support in UI** üñºÔ∏è
**–©–æ –ø—Ä–∞—Ü—é—î:** Contract –ø—ñ–¥—Ç—Ä–∏–º—É—î IPFS attachments
**–©–æ –≤—ñ–¥—Å—É—Ç–Ω—î –≤ UI:**
- Image gallery mode (2x2 –∞–±–æ 3-column grid)
- Video preview
- File type icons
- Thumbnail generation

---

### 3. **On-Chain Reactions/Read Receipts** ‚õìÔ∏è
**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** Reactions —ñ read receipts —Ç—ñ–ª—å–∫–∏ off-chain (backend DB)
**–í—ñ–¥—Å—É—Ç–Ω—î:** On-chain storage –¥–ª—è blockchain proof

---

### 4. **Full Decentralized Profile** üåê
**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** Username/bio –≤ backend DB, —Ç—ñ–ª—å–∫–∏ encryption keys on-chain
**–í—ñ–¥—Å—É—Ç–Ω—î:** –ü–æ–≤–Ω—ñ—Å—Ç—é –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π profile registry

---

## üìä TESTING STATUS

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- ‚ùå NO unit tests
- ‚ùå NO integration tests
- ‚ùå NO E2E tests
- ‚úÖ Manual testing documented (ZERO_LOCALSTORAGE_IMPLEMENTATION.md)

**–ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏:**
- [ ] Jest unit tests –¥–ª—è utils/
- [ ] React Testing Library –¥–ª—è components/
- [ ] Playwright E2E tests –¥–ª—è flows
- [ ] Leo testing framework –¥–ª—è smart contract

---

## üìÅ –î–û–ö–£–ú–ï–ù–¢–ê–¶–Ü–Ø

**–î–æ–±—Ä–µ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–æ:**
- ‚úÖ Security audit (comprehensive)
- ‚úÖ Zero localStorage migration
- ‚úÖ Wallet integration
- ‚úÖ Deployment instructions
- ‚úÖ UI improvements (new)
- ‚úÖ Project status report (—Ü–µ–π —Ñ–∞–π–ª)

**–í—ñ–¥—Å—É—Ç–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**
- [ ] API endpoint specification (parameters, responses)
- [ ] WebSocket protocol spec (message types, flow)
- [ ] Error code reference
- [ ] Debugging guide
- [ ] Production deployment checklist
- [ ] Disaster recovery procedures

---

## üéØ ROADMAP - –©–æ —Ä–æ–±–∏—Ç–∏ –¥–∞–ª—ñ

### –§–∞–∑–∞ 1: Critical Fixes (–¢–∏–∂–¥–µ–Ω—å 1)
1. ‚úÖ ~~–í–∏–ø—Ä–∞–≤–∏—Ç–∏ key derivation integration~~ (–ì–û–¢–û–í–û)
2. üî¥ –î–æ–¥–∞—Ç–∏ WebSocket message signature verification
3. üî¥ –í–∏–ø—Ä–∞–≤–∏—Ç–∏ channel name collision (re-deploy contract)
4. ‚úÖ Verify CSP headers

### –§–∞–∑–∞ 2: Security Hardening (–¢–∏–∂–¥–µ–Ω—å 2)
1. –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ forward secrecy (Signal Protocol)
2. –î–æ–¥–∞—Ç–∏ metadata privacy (dummy transactions)
3. Persist sessions –≤ database
4. –î–æ–¥–∞—Ç–∏ IndexedDB –¥–ª—è offline cache

### –§–∞–∑–∞ 3: Testing & Documentation (–¢–∏–∂–¥–µ–Ω—å 3)
1. –ù–∞–ø–∏—Å–∞—Ç–∏ unit tests (coverage >80%)
2. –î–æ–¥–∞—Ç–∏ E2E tests –¥–ª—è –æ—Å–Ω–æ–≤–Ω–∏—Ö flows
3. –ù–∞–ø–∏—Å–∞—Ç–∏ API documentation
4. Production deployment guide

### –§–∞–∑–∞ 4: Features (–¢–∏–∂–¥–µ–Ω—å 4+)
1. –£–≤—ñ–º–∫–Ω—É—Ç–∏ Channels/Groups –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è collision
2. –î–æ–¥–∞—Ç–∏ image gallery mode –≤ UI
3. Key backup/recovery mechanism
4. Push notifications
5. Smart contract audit

---

## üèÜ –ü–û–¢–û–ß–ù–Ü –î–û–°–Ø–ì–ù–ï–ù–ù–Ø

**–©–æ –≤–∂–µ –ø—Ä–∞—Ü—é—î –≤—ñ–¥–º—ñ–Ω–Ω–æ:**
- ‚úÖ Professional UI –∑ modern animations
- ‚úÖ End-to-end encryption –ø—Ä–∞—Ü—é—î
- ‚úÖ Hybrid messaging (off-chain + on-chain)
- ‚úÖ Comprehensive error handling
- ‚úÖ Responsive design
- ‚úÖ Cross-browser compatibility
- ‚úÖ Wallet integration (Leo Wallet Adapter)
- ‚úÖ IPFS file uploads
- ‚úÖ Rich message features (reactions, replies, edit, delete, pin)
- ‚úÖ Privacy controls (disappearing messages, block, hide status)

**–°—Ç–∞–Ω –∫–æ–¥—É:**
- ‚úÖ TypeScript –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è —á–∏—Å—Ç–æ (0 errors)
- ‚úÖ Clean architecture (hooks, utils, components)
- ‚úÖ Good separation of concerns
- ‚úÖ Consistent code style

---

## üìà METRICS

**Codebase Size:**
- Frontend: ~50 components, ~15 hooks, ~20 utils
- Backend: ~2000 lines (server.ts + database.ts)
- Smart Contract: ~800 lines Leo code

**Features Completion:**
- Core Features: 100%
- UI/UX: 95% (missing gallery mode, push notifications)
- Security: 70% (critical issues need fixing)
- Testing: 0% (needs adding)
- Documentation: 60% (missing API specs)

**Production Readiness:**
- Code Quality: ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (5/5)
- Features: ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4/5)
- Security: ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ (3/5) ‚Äî needs critical fixes
- Testing: ‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ (1/5) ‚Äî manual only
- Documentation: ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ (3/5) ‚Äî good but incomplete
- **Overall: ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ (3.4/5)** ‚Äî Hackathon-ready, not production-ready yet

---

## ‚úÖ QUICK WINS (–®–≤–∏–¥–∫—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)

**–ú–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞ 1 –¥–µ–Ω—å:**
- ‚úÖ ~~Formatting hint –¥–æ–¥–∞–Ω–æ~~ (–ì–û–¢–û–í–û)
- [ ] –î–æ–¥–∞—Ç–∏ simple unit tests –¥–ª—è utils/formatText.tsx
- [ ] –ù–∞–ø–∏—Å–∞—Ç–∏ API documentation (OpenAPI/Swagger)
- [ ] –î–æ–¥–∞—Ç–∏ production .env.example
- [ ] Create Docker compose –¥–ª—è backend
- [ ] –î–æ–¥–∞—Ç–∏ health check endpoint (/health)

---

## üéâ –ü–Ü–î–°–£–ú–û–ö

**Ghost Messenger** ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –±–∞–≥–∞—Ç–∏–π, –∫—Ä–∞—Å–∏–≤–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–π encrypted messenger –∑ hybrid messaging approach (off-chain + on-chain).

**–ì–æ—Ç–æ–≤–æ –¥–ª—è:** –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó, hackathon presentation, portfolio showcase
**–ù–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è:** Production deployment –±–µ–∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö security issues
**–ß–∞—Å –¥–æ production-ready:** ~3-4 —Ç–∏–∂–Ω—ñ (–∑–∞ roadmap –≤–∏—â–µ)

**–ù–∞–π–±—ñ–ª—å—à—ñ —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏:**
- –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π UI/UX
- End-to-end encryption
- –ë–∞–≥–∞—Ç–∏–π feature set
- Clean codebase
- Blockchain integration

**–ù–∞–π–±—ñ–ª—å—à—ñ —Å–ª–∞–±–∫–æ—Å—Ç—ñ:**
- WebSocket signature verification –≤—ñ–¥—Å—É—Ç–Ω—î (CRITICAL)
- Channels/Groups disabled —á–µ—Ä–µ–∑ collision bug
- No forward secrecy
- No tests
- No production deployment guide

---

**–°—Ç–∞—Ç—É—Å:** STABLE –∑ –≤—ñ–¥–æ–º–∏–º–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ ‚úÖ
**Security Posture:** MEDIUM ‚Äî –ø–æ—Ç—Ä–µ–±—É—î critical fixes
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –í–∏–ø—Ä–∞–≤–∏—Ç–∏ CRITICAL issues (#1, #2) –ø–µ—Ä–µ–¥ –ø—É–±–ª—ñ—á–Ω–∏–º –∑–∞–ø—É—Å–∫–æ–º

---

*–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ: 2026-02-17*
*–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: UI improvements, formatting hint –¥–æ–¥–∞–Ω–æ*
