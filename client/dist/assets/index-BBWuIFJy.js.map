{"version":3,"file":"index-BBWuIFJy.js","sources":["../../__vite-browser-external","../../node_modules/tweetnacl/nacl-fast.js","../../node_modules/tweetnacl-util/nacl-util.js","../../src/crypto.ts","../../src/ws-client.ts","../../src/secret.ts","../../src/api.ts","../../src/main.ts"],"sourcesContent":["export default {}","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","import nacl from 'tweetnacl';\nimport { encodeBase64, decodeBase64, encodeUTF8, decodeUTF8 } from 'tweetnacl-util';\n\nexport interface KeyPair {\n  publicKey: string;  // base64\n  secretKey: string;  // base64\n}\n\n//  Key Management \n\n/** Generate a new NaCl box key pair for E2E encryption */\nexport function generateKeyPair(): KeyPair {\n  const kp = nacl.box.keyPair();\n  return {\n    publicKey: encodeBase64(kp.publicKey),\n    secretKey: encodeBase64(kp.secretKey),\n  };\n}\n\n/** Store keys in localStorage, generate if missing */\nexport function getOrCreateKeys(username: string): KeyPair {\n  const key = `ghost_keys_${username}`;\n  try {\n    const stored = localStorage.getItem(key);\n    if (stored) {\n      const parsed = JSON.parse(stored);\n      if (parsed.publicKey && parsed.secretKey) return parsed;\n    }\n  } catch { /* regenerate */ }\n\n  const kp = generateKeyPair();\n  try { localStorage.setItem(key, JSON.stringify(kp)); } catch { /* ignore */ }\n  return kp;\n}\n\n//  E2E Encryption (NaCl box  DMs) \n\n/** Encrypt plaintext for a specific recipient (DM) */\nexport function encryptForRecipient(\n  plaintext: string,\n  recipientPublicKey: string,\n  senderSecretKey: string\n): { payload: string; nonce: string } {\n  const nonce = nacl.randomBytes(nacl.box.nonceLength);\n  const messageBytes = decodeUTF8(plaintext);\n  const pk = decodeBase64(recipientPublicKey);\n  const sk = decodeBase64(senderSecretKey);\n\n  const encrypted = nacl.box(messageBytes, nonce, pk, sk);\n  if (!encrypted) throw new Error('Encryption failed');\n\n  return {\n    payload: encodeBase64(encrypted),\n    nonce: encodeBase64(nonce),\n  };\n}\n\n/** Decrypt a DM from a specific sender */\nexport function decryptFromSender(\n  payload: string,\n  nonce: string,\n  senderPublicKey: string,\n  recipientSecretKey: string\n): string {\n  const encrypted = decodeBase64(payload);\n  const nonceBytes = decodeBase64(nonce);\n  const pk = decodeBase64(senderPublicKey);\n  const sk = decodeBase64(recipientSecretKey);\n\n  const decrypted = nacl.box.open(encrypted, nonceBytes, pk, sk);\n  if (!decrypted) throw new Error('Decryption failed');\n\n  return encodeUTF8(decrypted);\n}\n\n//  Symmetric Encryption (NaCl secretbox  Rooms) \n\n/** Derive a 32-byte room key from a passphrase */\nexport function deriveRoomKey(passphrase: string): string {\n  const hash = nacl.hash(decodeUTF8(passphrase));\n  return encodeBase64(hash.slice(0, nacl.secretbox.keyLength));\n}\n\n/** Encrypt with a symmetric room key */\nexport function encryptRoom(plaintext: string, roomKeyB64: string): { payload: string; nonce: string } {\n  const nonce = nacl.randomBytes(nacl.secretbox.nonceLength);\n  const key = decodeBase64(roomKeyB64);\n  const encrypted = nacl.secretbox(decodeUTF8(plaintext), nonce, key);\n  if (!encrypted) throw new Error('Room encryption failed');\n  return { payload: encodeBase64(encrypted), nonce: encodeBase64(nonce) };\n}\n\n/** Decrypt with a symmetric room key */\nexport function decryptRoom(payload: string, nonce: string, roomKeyB64: string): string {\n  const decrypted = nacl.secretbox.open(\n    decodeBase64(payload),\n    decodeBase64(nonce),\n    decodeBase64(roomKeyB64)\n  );\n  if (!decrypted) throw new Error('Room decryption failed');\n  return encodeUTF8(decrypted);\n}\n\n//  Hashing \n\n/** SHA-512 hash of a string, returned as hex */\nexport function hashMessage(text: string): string {\n  const hash = nacl.hash(decodeUTF8(text));\n  return Array.from(hash).map(b => b.toString(16).padStart(2, '0')).join('');\n}\n\n/** Shorter hash suitable for Aleo field (first 31 bytes as decimal) */\nexport function hashForAleo(text: string): string {\n  const hash = nacl.hash(decodeUTF8(text));\n  // Convert first 31 bytes to a BigInt, then to decimal string for Aleo field\n  let num = BigInt(0);\n  for (let i = 0; i < 31; i++) {\n    num = (num << BigInt(8)) | BigInt(hash[i]);\n  }\n  return num.toString() + 'field';\n}\n","type MessageHandler = (data: any) => void;\n\n/**\n * WebSocket client with auto-reconnect and typed event handling.\n */\nexport class GhostWS {\n  private ws: WebSocket | null = null;\n  private url: string;\n  private handlers = new Map<string, MessageHandler[]>();\n  private reconnectDelay = 1000;\n  private maxReconnectDelay = 30000;\n  private shouldReconnect = true;\n\n  constructor(url: string) {\n    this.url = url;\n  }\n\n  connect(): void {\n    this.shouldReconnect = true;\n    this.ws = new WebSocket(this.url);\n\n    this.ws.onopen = () => {\n      console.log('[WS] Connected');\n      this.reconnectDelay = 1000;\n      this.emit('_connected', {});\n    };\n\n    this.ws.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n        this.emit(data.type, data);\n      } catch (e) {\n        console.error('[WS] Parse error:', e);\n      }\n    };\n\n    this.ws.onclose = () => {\n      console.log('[WS] Disconnected');\n      this.emit('_disconnected', {});\n      if (this.shouldReconnect) {\n        setTimeout(() => this.connect(), this.reconnectDelay);\n        this.reconnectDelay = Math.min(this.reconnectDelay * 2, this.maxReconnectDelay);\n      }\n    };\n\n    this.ws.onerror = () => this.ws?.close();\n  }\n\n  send(data: any): void {\n    if (this.ws?.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(data));\n    }\n  }\n\n  on(type: string, handler: MessageHandler): void {\n    const list = this.handlers.get(type) || [];\n    list.push(handler);\n    this.handlers.set(type, list);\n  }\n\n  off(type: string, handler: MessageHandler): void {\n    const list = this.handlers.get(type) || [];\n    this.handlers.set(type, list.filter(h => h !== handler));\n  }\n\n  private emit(type: string, data: any): void {\n    const list = this.handlers.get(type) || [];\n    for (const h of list) {\n      try { h(data); } catch (e) { console.error('[WS] Handler error:', e); }\n    }\n  }\n\n  disconnect(): void {\n    this.shouldReconnect = false;\n    this.ws?.close();\n  }\n\n  get connected(): boolean {\n    return this.ws?.readyState === WebSocket.OPEN;\n  }\n}\n","import nacl from 'tweetnacl';\nimport { encodeBase64, decodeBase64, encodeUTF8, decodeUTF8 } from 'tweetnacl-util';\nimport { hashForAleo } from './crypto';\n\nexport interface SecretPayload {\n  payload: string;       // encrypted (base64)\n  ephemeralPk: string;   // one-time public key (base64)\n  nonce: string;         // nonce (base64)\n  aleoHash: string;      // hash for on-chain registration\n}\n\n/**\n * Create a one-time secret message.\n *\n * 1. Generate ephemeral (one-time) key pair\n * 2. Encrypt plaintext with NaCl box (ephemeral secret + recipient public)\n * 3. Compute Aleo-compatible hash of the plaintext\n * 4. Return encrypted payload + ephemeral public key + hash\n *\n * The ephemeral secret key is discarded  only the recipient can decrypt.\n */\nexport function createSecretMessage(\n  plaintext: string,\n  recipientPublicKey: string\n): SecretPayload {\n  // 1. Ephemeral keypair  used once, then thrown away\n  const ephemeral = nacl.box.keyPair();\n\n  // 2. Encrypt\n  const nonce = nacl.randomBytes(nacl.box.nonceLength);\n  const messageBytes = decodeUTF8(plaintext);\n  const recipientPk = decodeBase64(recipientPublicKey);\n\n  const encrypted = nacl.box(messageBytes, nonce, recipientPk, ephemeral.secretKey);\n  if (!encrypted) throw new Error('Secret encryption failed');\n\n  // 3. Hash for Aleo registration\n  const aleoHash = hashForAleo(plaintext);\n\n  // Ephemeral secret key is NOT stored or returned  truly one-time\n  return {\n    payload: encodeBase64(encrypted),\n    ephemeralPk: encodeBase64(ephemeral.publicKey),\n    nonce: encodeBase64(nonce),\n    aleoHash,\n  };\n}\n\n/**\n * Decrypt a one-time secret message.\n *\n * Uses the recipient's secret key + the ephemeral public key from the sender.\n */\nexport function readSecretMessage(\n  payload: string,\n  nonce: string,\n  ephemeralPk: string,\n  recipientSecretKey: string\n): string {\n  const encrypted = decodeBase64(payload);\n  const nonceBytes = decodeBase64(nonce);\n  const pk = decodeBase64(ephemeralPk);\n  const sk = decodeBase64(recipientSecretKey);\n\n  const decrypted = nacl.box.open(encrypted, nonceBytes, pk, sk);\n  if (!decrypted) throw new Error('Secret decryption failed  message may have been tampered with');\n\n  return encodeUTF8(decrypted);\n}\n\n/**\n * Verify an Aleo hash against plaintext.\n * Client-side verification (compare computed hash with registered hash).\n */\nexport function verifySecretHash(plaintext: string, expectedHash: string): boolean {\n  return hashForAleo(plaintext) === expectedHash;\n}\n","const BASE = '/api';\n\nasync function request<T>(path: string, options?: RequestInit): Promise<T> {\n  const res = await fetch(`${BASE}${path}`, {\n    headers: { 'Content-Type': 'application/json' },\n    ...options,\n  });\n  if (!res.ok) throw new Error(`API ${res.status}: ${res.statusText}`);\n  return res.json();\n}\n\n//  Users \n\nexport async function fetchUsers(): Promise<any[]> {\n  return request('/users');\n}\n\nexport async function fetchUser(id: string): Promise<any> {\n  return request(`/users/${id}`);\n}\n\n//  Rooms \n\nexport async function fetchRooms(): Promise<any[]> {\n  return request('/rooms');\n}\n\nexport async function fetchChannels(): Promise<any[]> {\n  return request('/rooms?type=channel');\n}\n\nexport async function fetchGroups(userId: string): Promise<any[]> {\n  return request(`/rooms?type=group&userId=${encodeURIComponent(userId)}`);\n}\n\nexport async function fetchRoom(id: string): Promise<any> {\n  return request(`/rooms/${id}`);\n}\n\n//  Messages \n\nexport async function fetchRoomMessages(roomId: string, limit = 50, offset = 0): Promise<any[]> {\n  return request(`/messages/room/${roomId}?limit=${limit}&offset=${offset}`);\n}\n\nexport async function fetchDMMessages(userId1: string, userId2: string, limit = 50, offset = 0): Promise<any[]> {\n  return request(`/messages/dm/${userId1}/${userId2}?limit=${limit}&offset=${offset}`);\n}\n\n//  Aleo Verification \n\nexport async function verifyAleoHash(hash: string): Promise<{ exists: boolean; sender: string | null }> {\n  return request(`/aleo/verify/${encodeURIComponent(hash)}`);\n}\n","import './style.css';\nimport { getOrCreateKeys, encryptForRecipient, decryptFromSender, deriveRoomKey, encryptRoom, decryptRoom, KeyPair } from './crypto';\nimport { GhostWS } from './ws-client';\nimport { createSecretMessage, readSecretMessage, verifySecretHash } from './secret';\nimport { fetchRooms, fetchRoomMessages, fetchDMMessages, fetchChannels, fetchGroups, verifyAleoHash } from './api';\n\n//  State \n\nlet myKeys: KeyPair;\nlet myUserId = '';\nlet myUsername = '';\nconst users = new Map<string, { id: string; username: string; publicKey: string }>();\nconst channels = new Map<string, { id: string; name: string; type: 'channel'; createdBy?: string }>();\nconst groups = new Map<string, { id: string; name: string; type: 'group'; createdBy?: string }>();\nconst roomKeys = new Map<string, string>(); // roomId  derived key (base64)\n\ntype TabType = 'messages' | 'channels' | 'groups';\nlet activeTab: TabType = 'messages';\nlet activeChat: { type: 'dm' | 'channel' | 'group'; id: string; name: string } | null = null;\nlet pendingSecrets = new Map<string, { id: string; senderId: string; aleoHash: string }>();\nlet joiningRoomId = '';\nlet joiningRoomType: 'channel' | 'group' = 'channel';\n\nconst WS_URL = location.protocol === 'https:' ? `wss://${location.host}` : `ws://${location.hostname}:3001`;\nconst ws = new GhostWS(WS_URL);\n\n//  DOM References \n\nconst $ = (sel: string) => document.querySelector(sel)!;\nconst loginScreen = $('#login-screen') as HTMLElement;\nconst appScreen = $('#app-screen') as HTMLElement;\nconst loginInput = $('#login-username') as HTMLInputElement;\nconst loginBtn = $('#login-btn') as HTMLButtonElement;\nconst connDot = $('#conn-status') as HTMLElement;\nconst myNameEl = $('#my-username') as HTMLElement;\n\n// List panel\nconst messagesListView = $('#messages-list-view') as HTMLElement;\nconst channelsListView = $('#channels-list-view') as HTMLElement;\nconst groupsListView = $('#groups-list-view') as HTMLElement;\nconst usersList = $('#users-list') as HTMLElement;\nconst channelsList = $('#channels-list') as HTMLElement;\nconst groupsList = $('#groups-list') as HTMLElement;\n\n// Chat area\nconst chatEmpty = $('#chat-empty') as HTMLElement;\nconst chatActive = $('#chat-active') as HTMLElement;\nconst chatTitle = $('#chat-title') as HTMLElement;\nconst messagesEl = $('#messages') as HTMLElement;\nconst msgForm = $('#message-form') as HTMLFormElement;\nconst msgInput = $('#message-input') as HTMLInputElement;\nconst typingEl = $('#typing-indicator') as HTMLElement;\nconst typingUserEl = $('#typing-user') as HTMLElement;\nconst leaveBtn = $('#leave-room-btn') as HTMLElement;\nconst deleteRoomBtn = $('#delete-room-btn') as HTMLElement;\nconst clearDmBtn = $('#clear-dm-btn') as HTMLElement;\n\n//  Login \n\nloginBtn.onclick = () => doLogin();\nloginInput.onkeydown = (e) => { if (e.key === 'Enter') doLogin(); };\n\nfunction doLogin() {\n  const username = loginInput.value.trim();\n  if (!username) return;\n\n  myUsername = username;\n  myKeys = getOrCreateKeys(username);\n\n  ws.connect();\n  ws.on('_connected', () => {\n    ws.send({ type: 'auth', username, publicKey: myKeys.publicKey });\n  });\n\n  loginBtn.disabled = true;\n  loginBtn.textContent = 'Connecting...';\n}\n\n//  WS Events \n\nws.on('auth_ok', (data) => {\n  myUserId = data.userId;\n  myNameEl.textContent = myUsername;\n\n  for (const u of data.users) {\n    users.set(u.id, u);\n  }\n\n  loginScreen.classList.remove('active');\n  appScreen.classList.add('active');\n  connDot.classList.add('online');\n\n  loadChannels();\n  loadGroups();\n  renderUsers();\n});\n\nws.on('room_list', (data: any) => {\n  for (const r of data.rooms) {\n    if (r.type === 'channel') {\n      channels.set(r.id, { id: r.id, name: r.name, type: 'channel', createdBy: r.createdBy });\n    } else if (r.type === 'group') {\n      groups.set(r.id, { id: r.id, name: r.name, type: 'group', createdBy: r.createdBy });\n    }\n  }\n  renderChannels();\n  renderGroups();\n});\n\nws.on('error', (data) => {\n  console.error('[Ghost]', data.message);\n  loginBtn.disabled = false;\n  loginBtn.textContent = 'Connect';\n});\n\nws.on('user_joined', (data) => {\n  users.set(data.user.id, data.user);\n  renderUsers();\n});\n\nws.on('user_left', (data) => {\n  users.delete(data.userId);\n  renderUsers();\n});\n\nws.on('room_created', (data) => {\n  const room = data.room;\n  if (room.type === 'channel') {\n    channels.set(room.id, { id: room.id, name: room.name, type: 'channel', createdBy: room.createdBy });\n    renderChannels();\n  } else if (room.type === 'group') {\n    groups.set(room.id, { id: room.id, name: room.name, type: 'group', createdBy: room.createdBy });\n    renderGroups();\n  }\n});\n\nws.on('room_joined', () => {\n  renderChannels();\n  renderGroups();\n});\n\nws.on('room_left', (data) => {\n  if (channels.has(data.roomId)) renderChannels();\n  if (groups.has(data.roomId)) renderGroups();\n});\n\nws.on('room_deleted', (data: any) => {\n  const roomId = data.roomId;\n  channels.delete(roomId);\n  groups.delete(roomId);\n  roomKeys.delete(roomId);\n  localStorage.removeItem(`ghost_roomkey_${roomId}`);\n  renderChannels();\n  renderGroups();\n\n  if (activeChat && (activeChat.type === 'channel' || activeChat.type === 'group') && activeChat.id === roomId) {\n    activeChat = null;\n    chatActive.classList.add('hidden');\n    chatEmpty.style.display = '';\n    leaveBtn.classList.add('hidden');\n    deleteRoomBtn.classList.add('hidden');\n  }\n});\n\nws.on('dm_cleared', (data: any) => {\n  if (activeChat && activeChat.type === 'dm' && activeChat.id === data.recipientId) {\n    messagesEl.innerHTML = '';\n    appendSystemMessage('Chat history cleared');\n  }\n});\n\nws.on('message', (data) => {\n  const msg = data.message;\n  if (activeChat) {\n    const isRoom = (activeChat.type === 'channel' || activeChat.type === 'group') && msg.roomId === activeChat.id;\n    const isDM = activeChat.type === 'dm' && (msg.senderId === activeChat.id || msg.recipientId === activeChat.id || msg.senderId === myUserId);\n\n    if (isRoom || isDM) {\n      appendMessage(msg);\n    }\n  }\n});\n\nws.on('typing', (data) => {\n  const user = users.get(data.userId);\n  if (user) {\n    typingUserEl.textContent = user.username;\n    typingEl.classList.remove('hidden');\n    clearTimeout((typingEl as any)._timeout);\n    (typingEl as any)._timeout = setTimeout(() => typingEl.classList.add('hidden'), 3000);\n  }\n});\n\nws.on('secret_available', (data) => {\n  pendingSecrets.set(data.id, data);\n  const sender = users.get(data.senderId);\n  if (activeChat && activeChat.type === 'dm' && activeChat.id === data.senderId) {\n    showSecretNotification(data.id, sender?.username || 'Someone');\n  }\n});\n\nws.on('secret_data', (data) => {\n  const secret = data.message;\n  try {\n    const plaintext = readSecretMessage(secret.payload, secret.nonce, secret.ephemeralPk, myKeys.secretKey);\n    showSecretReadModal(plaintext, secret.aleoHash);\n  } catch (e) {\n    alert('Failed to decrypt secret message');\n  }\n});\n\nws.on('secret_read', () => {\n  appendSystemMessage(' Your secret message was read and destroyed');\n});\n\nws.on('_disconnected', () => {\n  connDot.classList.remove('online');\n});\n\nws.on('_connected', () => {\n  connDot.classList.add('online');\n});\n\n//  Navigation \n\ndocument.querySelectorAll('#nav-bar .nav-icon[data-tab]').forEach(btn => {\n  btn.addEventListener('click', () => {\n    const tab = (btn as HTMLElement).dataset.tab as TabType;\n    switchTab(tab);\n  });\n});\n\nfunction switchTab(tab: TabType) {\n  activeTab = tab;\n\n  // Update nav icons\n  document.querySelectorAll('#nav-bar .nav-icon[data-tab]').forEach(b => b.classList.remove('active'));\n  document.querySelector(`#nav-bar .nav-icon[data-tab=\"${tab}\"]`)?.classList.add('active');\n\n  // Update list views\n  messagesListView.classList.remove('active');\n  channelsListView.classList.remove('active');\n  groupsListView.classList.remove('active');\n\n  if (tab === 'messages') messagesListView.classList.add('active');\n  else if (tab === 'channels') channelsListView.classList.add('active');\n  else if (tab === 'groups') groupsListView.classList.add('active');\n}\n\n//  Channels \n\nasync function loadChannels() {\n  try {\n    const list = await fetchChannels();\n    for (const r of list) {\n      channels.set(r.id, { id: r.id, name: r.name, type: 'channel' });\n    }\n    renderChannels();\n  } catch { /* ignore */ }\n}\n\nfunction renderChannels() {\n  channelsList.innerHTML = '';\n  for (const [id, ch] of channels) {\n    const li = document.createElement('li');\n    li.innerHTML = `<span class=\"icon\"></span><span class=\"name\">${esc(ch.name)}</span>`;\n    li.onclick = () => selectChannel(id);\n    if (activeChat?.type === 'channel' && activeChat.id === id) li.classList.add('active');\n    channelsList.appendChild(li);\n  }\n}\n\nfunction selectChannel(channelId: string) {\n  const ch = channels.get(channelId);\n  if (!ch) return;\n\n  if (!roomKeys.has(channelId)) {\n    joiningRoomId = channelId;\n    joiningRoomType = 'channel';\n    ($('#join-modal-title') as HTMLElement).textContent = 'Join Channel';\n    showJoinModal();\n    return;\n  }\n\n  activeChat = { type: 'channel', id: channelId, name: ch.name };\n  chatTitle.textContent = ` ${ch.name}`;\n  chatEmpty.style.display = 'none';\n  chatActive.classList.remove('hidden');\n  leaveBtn.classList.remove('hidden');\n  clearDmBtn.classList.add('hidden');\n  deleteRoomBtn.classList.toggle('hidden', ch.createdBy !== myUserId);\n  messagesEl.innerHTML = '';\n  renderChannels();\n  renderGroups();\n  renderUsers();\n\n  loadRoomHistory(channelId);\n}\n\n//  Groups \n\nasync function loadGroups() {\n  try {\n    const list = await fetchGroups(myUserId);\n    for (const r of list) {\n      groups.set(r.id, { id: r.id, name: r.name, type: 'group' });\n    }\n    renderGroups();\n  } catch { /* ignore */ }\n}\n\nfunction renderGroups() {\n  groupsList.innerHTML = '';\n  for (const [id, gr] of groups) {\n    const li = document.createElement('li');\n    li.innerHTML = `<span class=\"icon\"></span><span class=\"name\">${esc(gr.name)}</span>`;\n    li.onclick = () => selectGroup(id);\n    if (activeChat?.type === 'group' && activeChat.id === id) li.classList.add('active');\n    groupsList.appendChild(li);\n  }\n}\n\nfunction selectGroup(groupId: string) {\n  const gr = groups.get(groupId);\n  if (!gr) return;\n\n  if (!roomKeys.has(groupId)) {\n    joiningRoomId = groupId;\n    joiningRoomType = 'group';\n    ($('#join-modal-title') as HTMLElement).textContent = 'Join Group';\n    showJoinModal();\n    return;\n  }\n\n  activeChat = { type: 'group', id: groupId, name: gr.name };\n  chatTitle.textContent = ` ${gr.name}`;\n  chatEmpty.style.display = 'none';\n  chatActive.classList.remove('hidden');\n  leaveBtn.classList.remove('hidden');\n  clearDmBtn.classList.add('hidden');\n  deleteRoomBtn.classList.toggle('hidden', gr.createdBy !== myUserId);\n  messagesEl.innerHTML = '';\n  renderChannels();\n  renderGroups();\n  renderUsers();\n\n  loadRoomHistory(groupId);\n}\n\n//  Users / DM \n\nfunction renderUsers() {\n  usersList.innerHTML = '';\n  for (const [id, user] of users) {\n    if (id === myUserId) continue;\n    const li = document.createElement('li');\n    li.innerHTML = `<span class=\"icon\"></span><span class=\"name\">${esc(user.username)}</span>`;\n    li.onclick = () => selectDM(id);\n    if (activeChat?.type === 'dm' && activeChat.id === id) li.classList.add('active');\n    usersList.appendChild(li);\n  }\n}\n\nfunction selectDM(userId: string) {\n  const user = users.get(userId);\n  if (!user) return;\n\n  activeChat = { type: 'dm', id: userId, name: user.username };\n  chatTitle.textContent = ` ${user.username}`;\n  chatEmpty.style.display = 'none';\n  chatActive.classList.remove('hidden');\n  leaveBtn.classList.add('hidden');\n  deleteRoomBtn.classList.add('hidden');\n  clearDmBtn.classList.remove('hidden');\n  messagesEl.innerHTML = '';\n  renderChannels();\n  renderGroups();\n  renderUsers();\n\n  loadDMHistory(userId);\n\n  for (const [sid, s] of pendingSecrets) {\n    if (s.senderId === userId) {\n      showSecretNotification(sid, user.username);\n    }\n  }\n}\n\n//  Room History \n\nasync function loadRoomHistory(roomId: string) {\n  try {\n    const msgs = await fetchRoomMessages(roomId);\n    for (const msg of msgs) appendMessage(msg);\n  } catch { /* ignore */ }\n}\n\nasync function loadDMHistory(userId: string) {\n  try {\n    const msgs = await fetchDMMessages(myUserId, userId);\n    for (const msg of msgs) appendMessage(msg);\n  } catch { /* ignore */ }\n}\n\n//  Sending Messages \n\nmsgForm.onsubmit = (e) => {\n  e.preventDefault();\n  const text = msgInput.value.trim();\n  if (!text || !activeChat) return;\n\n  if (activeChat.type === 'dm') {\n    const recipient = users.get(activeChat.id);\n    if (!recipient) return;\n    const { payload, nonce } = encryptForRecipient(text, recipient.publicKey, myKeys.secretKey);\n    ws.send({ type: 'message', recipientId: activeChat.id, payload, nonce });\n  } else if (activeChat.type === 'channel' || activeChat.type === 'group') {\n    const roomKey = roomKeys.get(activeChat.id);\n    if (!roomKey) { alert('Missing room key'); return; }\n    const { payload, nonce } = encryptRoom(text, roomKey);\n    ws.send({ type: 'message', roomId: activeChat.id, payload, nonce });\n  }\n\n  msgInput.value = '';\n};\n\n// Typing indicator\nlet typingTimeout: number | null = null;\nmsgInput.oninput = () => {\n  if (!activeChat) return;\n  if (!typingTimeout) {\n    const isRoom = activeChat.type === 'channel' || activeChat.type === 'group';\n    ws.send({ type: 'typing', ...(isRoom ? { roomId: activeChat.id } : { recipientId: activeChat.id }) });\n  }\n  if (typingTimeout) clearTimeout(typingTimeout);\n  typingTimeout = setTimeout(() => { typingTimeout = null; }, 2000) as any;\n};\n\n//  Message Rendering \n\nfunction appendMessage(raw: any) {\n  const isMine = raw.sender_id === myUserId || raw.senderId === myUserId;\n  let text = '';\n\n  try {\n    if (activeChat?.type === 'dm') {\n      const otherUser = users.get(activeChat.id);\n      if (otherUser) {\n        text = isMine\n          ? decryptFromSender(raw.payload, raw.nonce, otherUser.publicKey, myKeys.secretKey)\n          : decryptFromSender(raw.payload, raw.nonce, otherUser.publicKey, myKeys.secretKey);\n      }\n    } else if (activeChat?.type === 'channel' || activeChat?.type === 'group') {\n      const roomKey = roomKeys.get(activeChat.id);\n      if (roomKey) {\n        text = decryptRoom(raw.payload, raw.nonce, roomKey);\n      }\n    }\n  } catch {\n    text = '[Decryption Failed]';\n  }\n\n  if (!text) text = '[Encrypted]';\n\n  const senderId = raw.sender_id || raw.senderId;\n  const sender = users.get(senderId);\n  const time = new Date(Number(raw.timestamp)).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n\n  const div = document.createElement('div');\n  div.className = `msg ${isMine ? 'mine' : 'theirs'}`;\n  div.innerHTML = `\n    ${!isMine ? `<div class=\"sender\">${esc(sender?.username || 'Unknown')}</div>` : ''}\n    <div>${esc(text)}</div>\n    <div class=\"time\">${time}</div>\n  `;\n  messagesEl.appendChild(div);\n  messagesEl.scrollTop = messagesEl.scrollHeight;\n}\n\nfunction appendSystemMessage(text: string) {\n  const div = document.createElement('div');\n  div.className = 'msg secret-notification';\n  div.innerHTML = text;\n  messagesEl.appendChild(div);\n  messagesEl.scrollTop = messagesEl.scrollHeight;\n}\n\nfunction showSecretNotification(secretId: string, senderName: string) {\n  const div = document.createElement('div');\n  div.className = 'msg secret-notification';\n  div.innerHTML = ` <strong>${esc(senderName)}</strong> sent you a secret message. <em>Click to read (one-time only)</em>`;\n  div.onclick = () => {\n    ws.send({ type: 'read_secret', messageId: secretId });\n    pendingSecrets.delete(secretId);\n    div.remove();\n  };\n  messagesEl.appendChild(div);\n  messagesEl.scrollTop = messagesEl.scrollHeight;\n}\n\n//  Create Channel Modal \n\n$('#create-channel-btn').addEventListener('click', () => {\n  ($('#channel-modal') as HTMLElement).classList.remove('hidden');\n});\n\n$('#channel-cancel-btn').addEventListener('click', () => {\n  ($('#channel-modal') as HTMLElement).classList.add('hidden');\n});\n\n$('#channel-create-btn').addEventListener('click', () => {\n  const name = ($('#channel-name-input') as HTMLInputElement).value.trim();\n  const pass = ($('#channel-pass-input') as HTMLInputElement).value;\n  if (!name || !pass) { alert('Name and passphrase required'); return; }\n\n  ws.send({ type: 'create_room', name, isPrivate: false, roomType: 'channel' });\n\n  const handler = (data: any) => {\n    if (data.room.type === 'channel') {\n      const roomKey = deriveRoomKey(pass);\n      roomKeys.set(data.room.id, roomKey);\n      localStorage.setItem(`ghost_roomkey_${data.room.id}`, roomKey);\n      ws.send({ type: 'join_room', roomId: data.room.id });\n      ws.off('room_created', handler);\n\n      ($('#channel-modal') as HTMLElement).classList.add('hidden');\n      ($('#channel-name-input') as HTMLInputElement).value = '';\n      ($('#channel-pass-input') as HTMLInputElement).value = '';\n      switchTab('channels');\n      selectChannel(data.room.id);\n    }\n  };\n  ws.on('room_created', handler);\n});\n\n//  Create Group Modal \n\n$('#create-group-btn').addEventListener('click', () => {\n  ($('#group-modal') as HTMLElement).classList.remove('hidden');\n});\n\n$('#group-cancel-btn').addEventListener('click', () => {\n  ($('#group-modal') as HTMLElement).classList.add('hidden');\n});\n\n$('#group-create-btn').addEventListener('click', () => {\n  const name = ($('#group-name-input') as HTMLInputElement).value.trim();\n  const pass = ($('#group-pass-input') as HTMLInputElement).value;\n  if (!name || !pass) { alert('Name and passphrase required'); return; }\n\n  ws.send({ type: 'create_room', name, isPrivate: true, roomType: 'group' });\n\n  const handler = (data: any) => {\n    if (data.room.type === 'group') {\n      const roomKey = deriveRoomKey(pass);\n      roomKeys.set(data.room.id, roomKey);\n      localStorage.setItem(`ghost_roomkey_${data.room.id}`, roomKey);\n      ws.send({ type: 'join_room', roomId: data.room.id });\n      ws.off('room_created', handler);\n\n      ($('#group-modal') as HTMLElement).classList.add('hidden');\n      ($('#group-name-input') as HTMLInputElement).value = '';\n      ($('#group-pass-input') as HTMLInputElement).value = '';\n      switchTab('groups');\n      selectGroup(data.room.id);\n    }\n  };\n  ws.on('room_created', handler);\n});\n\n//  Join Room Modal \n\nfunction showJoinModal() {\n  ($('#join-modal') as HTMLElement).classList.remove('hidden');\n}\n\n$('#join-cancel-btn').addEventListener('click', () => {\n  ($('#join-modal') as HTMLElement).classList.add('hidden');\n});\n\n$('#join-confirm-btn').addEventListener('click', () => {\n  const pass = ($('#join-pass-input') as HTMLInputElement).value;\n  if (!pass) return;\n\n  const roomKey = deriveRoomKey(pass);\n  roomKeys.set(joiningRoomId, roomKey);\n  localStorage.setItem(`ghost_roomkey_${joiningRoomId}`, roomKey);\n  ws.send({ type: 'join_room', roomId: joiningRoomId });\n\n  ($('#join-modal') as HTMLElement).classList.add('hidden');\n  ($('#join-pass-input') as HTMLInputElement).value = '';\n\n  if (joiningRoomType === 'channel') {\n    selectChannel(joiningRoomId);\n  } else {\n    selectGroup(joiningRoomId);\n  }\n});\n\n//  Leave Room \n\nleaveBtn.addEventListener('click', () => {\n  if (!activeChat || activeChat.type === 'dm') return;\n\n  ws.send({ type: 'leave_room', roomId: activeChat.id });\n  roomKeys.delete(activeChat.id);\n  localStorage.removeItem(`ghost_roomkey_${activeChat.id}`);\n\n  if (activeChat.type === 'channel') {\n    channels.delete(activeChat.id);\n    renderChannels();\n  } else {\n    groups.delete(activeChat.id);\n    renderGroups();\n  }\n\n  activeChat = null;\n  chatActive.classList.add('hidden');\n  chatEmpty.style.display = '';\n  leaveBtn.classList.add('hidden');\n});\n\n//  Delete Room \n\ndeleteRoomBtn.addEventListener('click', () => {\n  if (!activeChat || activeChat.type === 'dm') return;\n  showConfirm(\n    `Delete ${activeChat.type === 'channel' ? 'Channel' : 'Group'}`,\n    `Are you sure you want to delete \"${activeChat.name}\"? All messages will be permanently removed.`,\n    () => {\n      ws.send({ type: 'delete_room', roomId: activeChat!.id });\n    }\n  );\n});\n\n//  Clear DM History \n\nclearDmBtn.addEventListener('click', () => {\n  if (!activeChat || activeChat.type !== 'dm') return;\n  showConfirm(\n    'Clear Chat',\n    `Clear all messages with ${activeChat.name}? This cannot be undone.`,\n    () => {\n      ws.send({ type: 'clear_dm', recipientId: activeChat!.id });\n    }\n  );\n});\n\n//  Confirm Modal \n\nlet confirmCallback: (() => void) | null = null;\n\nfunction showConfirm(title: string, text: string, onConfirm: () => void) {\n  ($('#confirm-title') as HTMLElement).textContent = title;\n  ($('#confirm-text') as HTMLElement).textContent = text;\n  confirmCallback = onConfirm;\n  ($('#confirm-modal') as HTMLElement).classList.remove('hidden');\n}\n\n$('#confirm-cancel-btn').addEventListener('click', () => {\n  ($('#confirm-modal') as HTMLElement).classList.add('hidden');\n  confirmCallback = null;\n});\n\n$('#confirm-ok-btn').addEventListener('click', () => {\n  ($('#confirm-modal') as HTMLElement).classList.add('hidden');\n  if (confirmCallback) {\n    confirmCallback();\n    confirmCallback = null;\n  }\n});\n\n//  Secret Message Modal \n\n$('#secret-btn').addEventListener('click', () => {\n  if (!activeChat || activeChat.type !== 'dm') {\n    alert('Secret messages work only in DMs');\n    return;\n  }\n  ($('#secret-modal') as HTMLElement).classList.remove('hidden');\n});\n\n$('#secret-cancel-btn').addEventListener('click', () => {\n  ($('#secret-modal') as HTMLElement).classList.add('hidden');\n});\n\n$('#secret-send-btn').addEventListener('click', () => {\n  const text = ($('#secret-text') as HTMLTextAreaElement).value.trim();\n  if (!text || !activeChat) return;\n\n  const recipient = users.get(activeChat.id);\n  if (!recipient) return;\n\n  const secret = createSecretMessage(text, recipient.publicKey);\n  ws.send({\n    type: 'secret',\n    recipientId: activeChat.id,\n    payload: secret.payload,\n    ephemeralPk: secret.ephemeralPk,\n    nonce: secret.nonce,\n    aleoHash: secret.aleoHash,\n  });\n\n  appendSystemMessage(` You sent a secret message (hash: ${secret.aleoHash.slice(0, 20)}...)`);\n\n  ($('#secret-modal') as HTMLElement).classList.add('hidden');\n  ($('#secret-text') as HTMLTextAreaElement).value = '';\n});\n\n//  Secret Read Modal \n\nfunction showSecretReadModal(plaintext: string, aleoHash: string) {\n  ($('#secret-read-content') as HTMLElement).textContent = plaintext;\n  ($('#secret-aleo-hash') as HTMLElement).textContent = `Aleo Hash: ${aleoHash}`;\n  ($('#secret-read-modal') as HTMLElement).classList.remove('hidden');\n}\n\n$('#secret-read-close-btn').addEventListener('click', () => {\n  ($('#secret-read-content') as HTMLElement).textContent = '';\n  ($('#secret-read-modal') as HTMLElement).classList.add('hidden');\n});\n\n//  Logout \n\n$('#logout-btn').addEventListener('click', () => {\n  ws.disconnect();\n  appScreen.classList.remove('active');\n  loginScreen.classList.add('active');\n  loginBtn.disabled = false;\n  loginBtn.textContent = 'Connect';\n  users.clear();\n  channels.clear();\n  groups.clear();\n  activeChat = null;\n  chatActive.classList.add('hidden');\n  chatEmpty.style.display = '';\n});\n\n//  Restore Room Keys \n\nfor (let i = 0; i < localStorage.length; i++) {\n  const key = localStorage.key(i);\n  if (key?.startsWith('ghost_roomkey_')) {\n    const roomId = key.replace('ghost_roomkey_', '');\n    const val = localStorage.getItem(key);\n    if (val) roomKeys.set(roomId, val);\n  }\n}\n\n//  Scroll Animations \n\nconst scrollObserver = new IntersectionObserver((entries) => {\n  for (const entry of entries) {\n    if (entry.isIntersecting) {\n      entry.target.classList.add('visible');\n    }\n  }\n}, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });\n\ndocument.querySelectorAll('.fade-in-up').forEach(el => {\n  scrollObserver.observe(el);\n});\n\n//  Floating Particles \n\nfunction createParticles() {\n  const container = document.getElementById('particles');\n  if (!container) return;\n  for (let i = 0; i < 30; i++) {\n    const p = document.createElement('div');\n    p.style.cssText = `\n      position: absolute;\n      width: ${2 + Math.random() * 3}px;\n      height: ${2 + Math.random() * 3}px;\n      background: rgba(255,140,0,${0.1 + Math.random() * 0.2});\n      border-radius: 50%;\n      left: ${Math.random() * 100}%;\n      top: ${Math.random() * 100}%;\n      animation: particleFloat ${5 + Math.random() * 10}s ease-in-out infinite;\n      animation-delay: ${-Math.random() * 10}s;\n    `;\n    container.appendChild(p);\n  }\n}\ncreateParticles();\n\n// Add particle animation to document\nconst particleStyle = document.createElement('style');\nparticleStyle.textContent = `\n  @keyframes particleFloat {\n    0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.3; }\n    25% { transform: translate(${20}px, -${30}px) scale(1.5); opacity: 0.6; }\n    50% { transform: translate(-${15}px, -${60}px) scale(1); opacity: 0.3; }\n    75% { transform: translate(${25}px, -${20}px) scale(1.3); opacity: 0.5; }\n  }\n`;\ndocument.head.appendChild(particleStyle);\n\n//  Util \n\nfunction esc(str: string): string {\n  const el = document.createElement('span');\n  el.textContent = str;\n  return el.innerHTML;\n}\n"],"names":["__viteBrowserExternal","nacl","gf","init","i","r","randombytes","_0","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","x","h","l","vn","xi","y","yi","d","crypto_verify_16","crypto_verify_32","core_salsa20","o","p","k","c","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","u","core_hsalsa20","crypto_core_salsa20","out","inp","crypto_core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","m","mpos","b","n","z","crypto_stream_salsa20","crypto_stream","s","sn","crypto_stream_xor","poly1305","key","t0","t1","t2","t3","t4","t5","t6","t7","bytes","hibit","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","g","mask","f","want","crypto_onetimeauth","outpos","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","a","car25519","v","sel25519","q","t","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","e","x32","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","crypto_box_afternm","crypto_box_open_afternm","crypto_box","crypto_box_open","K","crypto_hashblocks_hl","hh","hl","wh","wl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","add","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","unpackneg","chk","num","den","den2","den4","den6","crypto_sign_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","checkLengths","checkBoxLengths","checkArrayTypes","cleanup","arr","msg","nonce","box","publicKey","secretKey","signedMsg","tmp","mlen","sig","seed","fn","crypto","QUOTA","require","require$$0","module","root","this","util","validateBase64","len","generateKeyPair","kp","encodeBase64","getOrCreateKeys","username","stored","parsed","encryptForRecipient","plaintext","recipientPublicKey","senderSecretKey","messageBytes","decodeUTF8","decodeBase64","encrypted","decryptFromSender","payload","senderPublicKey","recipientSecretKey","nonceBytes","decrypted","encodeUTF8","deriveRoomKey","passphrase","hash","encryptRoom","roomKeyB64","decryptRoom","hashForAleo","text","GhostWS","url","__publicField","event","data","_a","type","handler","list","createSecretMessage","ephemeral","recipientPk","aleoHash","readSecretMessage","ephemeralPk","BASE","request","path","options","res","fetchChannels","fetchGroups","userId","fetchRoomMessages","roomId","limit","offset","fetchDMMessages","userId1","userId2","myKeys","myUserId","myUsername","users","channels","groups","roomKeys","activeChat","pendingSecrets","joiningRoomId","joiningRoomType","WS_URL","ws","$","sel","loginScreen","appScreen","loginInput","loginBtn","connDot","myNameEl","messagesListView","channelsListView","groupsListView","usersList","channelsList","groupsList","chatEmpty","chatActive","chatTitle","messagesEl","msgForm","msgInput","typingEl","typingUserEl","leaveBtn","deleteRoomBtn","clearDmBtn","doLogin","loadChannels","loadGroups","renderUsers","renderChannels","renderGroups","room","appendSystemMessage","isRoom","isDM","appendMessage","user","sender","showSecretNotification","secret","showSecretReadModal","btn","tab","switchTab","id","ch","li","esc","selectChannel","channelId","showJoinModal","loadRoomHistory","gr","selectGroup","groupId","selectDM","loadDMHistory","sid","msgs","recipient","roomKey","typingTimeout","raw","isMine","otherUser","senderId","time","div","secretId","senderName","name","pass","showConfirm","confirmCallback","title","onConfirm","val","scrollObserver","entries","entry","el","createParticles","container","particleStyle","str"],"mappings":"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","x_google_ignoreList":[1,2]}