# –ê–Ω–∞–ª—ñ–∑ –±–µ–∑–ø–µ–∫–∏: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–ø–∏—Å–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤

## –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏: ‚úÖ –ë–ï–ó–ü–ï–ß–ù–û

### –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ: –ü—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Ç–∞ –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –¥—ñ—è—Ö —Å–ø–∏—Å—É—î—Ç—å—Å—è **–¢–Ü–õ–¨–ö–ò –∫–æ–º—ñ—Å—ñ—è –±–ª–æ–∫—á–µ–π–Ω—É**, –∂–æ–¥–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏ –Ω–µ —Å–ø–∏—Å—É—é—Ç—å—Å—è.

---

## 1. –ê–Ω–∞–ª—ñ–∑ Leo –ø—Ä–æ–≥—Ä–∞–º–∏ (`src/main.leo`)

### ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

#### `send_message`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä `amount`**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤ –∑–∞–ø–∏—Å—ñ `Message`
- **–í—ñ–¥—Å—É—Ç–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤–æ–¥—É**: –ù–µ–º–∞—î –≤–∏–∫–ª–∏–∫—ñ–≤ `credits.aleo/transfer` –∞–±–æ —ñ–Ω—à–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ —Ç–æ–∫–µ–Ω–∞–º–∏
- **–¢—ñ–ª—å–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤**: –§—É–Ω–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î –¥–≤–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –∑–∞–ø–∏—Å–∏ (–¥–ª—è –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞) —Ç–∞ –æ–Ω–æ–≤–ª—é—î –º–∞–ø–ø—ñ–Ω–≥–∏
- **–ù–µ–º–∞—î –ø–µ—Ä–µ–≤–æ–¥—É —Ç–æ–∫–µ–Ω—ñ–≤**: –ü–æ–ª–µ `amount` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –∑–∞–ø–∏—Å—ñ, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—É

#### `create_profile` / `update_profile`
- **–¢—ñ–ª—å–∫–∏ –º–∞–ø–ø—ñ–Ω–≥–∏**: –û–Ω–æ–≤–ª—é—é—Ç—å —Ç—ñ–ª—å–∫–∏ –º–∞–ø–ø—ñ–Ω–≥ `profiles`
- **–ù–µ–º–∞—î –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ —Ç–æ–∫–µ–Ω–∞–º–∏**: –í—ñ–¥—Å—É—Ç–Ω—ñ –±—É–¥—å-—è–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ credits

#### `update_contact_name` / `delete_chat` / `restore_chat`
- **–¢—ñ–ª—å–∫–∏ –º–∞–ø–ø—ñ–Ω–≥–∏**: –û–Ω–æ–≤–ª—é—é—Ç—å —Ç—ñ–ª—å–∫–∏ –º–∞–ø–ø—ñ–Ω–≥–∏ `contact_names` —Ç–∞ `deleted_chats`
- **–ù–µ–º–∞—î –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ —Ç–æ–∫–µ–Ω–∞–º–∏**: –í—ñ–¥—Å—É—Ç–Ω—ñ –±—É–¥—å-—è–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ credits

### –í–∏—Å–Ω–æ–≤–æ–∫ –ø–æ Leo –ø—Ä–æ–≥—Ä–∞–º—ñ:
‚úÖ **–í –ø—Ä–æ–≥—Ä–∞–º—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ –±—É–¥—å-—è–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤–æ–¥—É —Ç–æ–∫–µ–Ω—ñ–≤**
‚úÖ **–ü–æ–ª–µ `amount` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –Ω–µ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—É**

---

## 2. –ê–Ω–∞–ª—ñ–∑ Frontend –∫–æ–¥—É

### ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ `ChatInterface.tsx`:

#### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (`handleSend`):
```typescript
const amount = 0; // Amount is 0 for messages

const transaction = Transaction.createTransaction(
  publicKey,
  network,
  PROGRAM_ID,
  "send_message",
  [
    activeContact.address,    // recipient
    `${amount}u64`,          // amount = 0
    messageField,            // message
    `${timestamp}u64`        // timestamp
  ],
  TRANSACTION_FEE,           // –¢—ñ–ª—å–∫–∏ –∫–æ–º—ñ—Å—ñ—è –±–ª–æ–∫—á–µ–π–Ω—É
  false
);
```

**–ê–Ω–∞–ª—ñ–∑:**
- ‚úÖ `amount` –∑–∞–≤–∂–¥–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –≤ `0` –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ `TRANSACTION_FEE` = 50,000,000,000 microcredits (0.05 ALEO) - —Ü–µ **—Ç—ñ–ª—å–∫–∏ –∫–æ–º—ñ—Å—ñ—è –±–ª–æ–∫—á–µ–π–Ω—É**
- ‚úÖ –û—Å—Ç–∞–Ω–Ω—ñ–π –ø–∞—Ä–∞–º–µ—Ç—Ä `false` –æ–∑–Ω–∞—á–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—É–±–ª—ñ—á–Ω–æ—ó –∫–æ–º—ñ—Å—ñ—ó (–Ω–µ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤)

### ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ `constants.ts`:
```typescript
export const TRANSACTION_FEE = 50_000_000_000; // 0.05 ALEO
```
- ‚úÖ –¶–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –∫–æ–º—ñ—Å—ñ—è –±–ª–æ–∫—á–µ–π–Ω—É Aleo
- ‚úÖ –ù–µ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏, —Ç—ñ–ª—å–∫–∏ –∫–æ–º—ñ—Å—ñ—è –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é

---

## 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–Ω—à–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

### ‚úÖ `create_profile` / `update_profile`:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ `TRANSACTION_FEE` –¥–ª—è –∫–æ–º—ñ—Å—ñ—ó
- –ù–µ–º–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å–ø–∏—Å–∞–Ω—å

### ‚úÖ –í—Å—ñ —ñ–Ω—à—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
- `update_contact_name`
- `delete_chat`
- `restore_chat`

–í—Å—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ `TRANSACTION_FEE` –¥–ª—è –∫–æ–º—ñ—Å—ñ—ó –±–ª–æ–∫—á–µ–π–Ω—É.

---

## 4. –í–∏—Å–Ω–æ–≤–æ–∫

### ‚úÖ –ü–Ü–î–¢–í–ï–†–î–ñ–ï–ù–û:

1. **–ü—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:**
   - `amount` –∑–∞–≤–∂–¥–∏ = `0`
   - –°–ø–∏—Å—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ `TRANSACTION_FEE` (0.05 ALEO) - –∫–æ–º—ñ—Å—ñ—è –±–ª–æ–∫—á–µ–π–Ω—É
   - –ñ–æ–¥–Ω—ñ —Ç–æ–∫–µ–Ω–∏ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—å—Å—è –æ—Ç—Ä–∏–º—É–≤–∞—á—É

2. **–ü—Ä–∏ –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –¥—ñ—è—Ö:**
   - –°–ø–∏—Å—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ `TRANSACTION_FEE` (0.05 ALEO) - –∫–æ–º—ñ—Å—ñ—è –±–ª–æ–∫—á–µ–π–Ω—É
   - –ñ–æ–¥–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏ –Ω–µ —Å–ø–∏—Å—É—é—Ç—å—Å—è

3. **–í Leo –ø—Ä–æ–≥—Ä–∞–º—ñ:**
   - –í—ñ–¥—Å—É—Ç–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤–æ–¥—É —Ç–æ–∫–µ–Ω—ñ–≤
   - –ü–æ–ª–µ `amount` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
   - –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å —Ç—ñ–ª—å–∫–∏ –∑ –º–∞–ø–ø—ñ–Ω–≥–∞–º–∏ —Ç–∞ –∑–∞–ø–∏—Å–∞–º–∏

### üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞:
‚úÖ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–ø–ª–∞—á—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ –∫–æ–º—ñ—Å—ñ—é –±–ª–æ–∫—á–µ–π–Ω—É (0.05 ALEO)**
‚úÖ **–ñ–æ–¥–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏ –Ω–µ —Å–ø–∏—Å—É—é—Ç—å—Å—è**
‚úÖ **–ù–µ–º–∞—î –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö —Å–ø–∏—Å–∞–Ω—å**

---

## 5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

–î–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –±–µ–∑–ø–µ–∫–∏ –º–æ–∂–Ω–∞:
1. –î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥ –ø—Ä–æ —Ç–µ, —â–æ `amount` –∑–∞–≤–∂–¥–∏ –º–∞—î –±—É—Ç–∏ 0
2. –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –Ω–∞ frontend, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ `amount === 0`
3. –î–æ–¥–∞—Ç–∏ unit-—Ç–µ—Å—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –æ–ø–µ—Ä–∞—Ü—ñ–π –ø–µ—Ä–µ–≤–æ–¥—É —Ç–æ–∫–µ–Ω—ñ–≤

---

**–î–∞—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:** 2026-01-25
**–í–µ—Ä—Å—ñ—è –ø—Ä–æ–≥—Ä–∞–º–∏:** priv_messenger_leotest_009.aleo
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë–ï–ó–ü–ï–ß–ù–û
